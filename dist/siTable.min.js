/*! sitable 07-04-2014 */
!function(){angular.module("siTable.config",[]).value("siTable.config",{debug:!0}),angular.module("siTable.directives",[]),angular.module("siTable.filters",[]),angular.module("siTable",["siTable.config","siTable.directives","siTable.filters"]),angular.module("siTable.directives").directive("siTable",function(a){return{restrict:"A",scope:!0,terminal:!0,controller:function(b,c,d){b.paginationParams={offset:0,limit:d.pagination?parseInt(d.pagination,10):10};for(var e=c.find("tr"),f=0;f<e.length;f++){var g=angular.element(e[f]);g.attr("pagination-params","paginationParams"),g.replaceWith(a(g)(b))}},compile:function(){return function(b,c){var d;c.after(a('<si-table-pagination params="paginationParams"/>')(b)),b.$watch("repeatExpression",function(a){var c=a.match(/^\s*(.+)\s+in\s+(.*)\s*$/),e=c[2];d=b.$eval(e),b.paginationParams.total=d.length},!0)}}}}),angular.module("siTable.directives").directive("tr",function(){return{restrict:"E",priority:1001,scope:{paginationParams:"="},compile:function(a,b){var c=b.ngRepeat;return b.ngRepeat+=" | siPagination:paginationParams",c?function(a){a.$parent.$parent.repeatExpression=c}:void 0}}}),angular.module("siTable.directives").directive("siTablePagination",function(){return{restrict:"E",scope:{params:"="},template:'            <ul class="pagination">                <li ng-class="{disabled: params.offset === 0}">                    <a href ng-click="previous()">&laquo;</a>                </li>                <li ng-repeat="page in showPages" ng-class="{active: currPage === page}">                    <a href ng-click="setPage(page)">{{ page }}</a>                </li>                <li ng-class="{disabled: params.offset + params.limit >= params.total}">                    <a href ng-click="next()">&raquo;</a>                </li>            </ul>',link:function(a){a.next=function(){a.params.offset+a.params.limit<a.params.total&&(a.params.offset+=a.params.limit)},a.previous=function(){a.params.offset>0&&(a.params.offset-=a.params.limit)},a.setPage=function(b){a.params.offset=(b-1)*a.params.limit},a.$watch("params",function(b){for(var c=Math.floor(b.offset/b.limit)+1,d=Math.floor(b.total/b.limit)+2,e=Math.max(1,c-5),f=Math.min(d,c+5),g=[f-e],h=0;f-e>h;h++)g[h]=e+h;a.currPage=c,a.showPages=g},!0)}}}),angular.module("siTable.filters").filter("siPagination",function(){return function(a,b){return console.log(b),b?a.slice(b.offset,b.offset+b.limit):a}})}(window,document);